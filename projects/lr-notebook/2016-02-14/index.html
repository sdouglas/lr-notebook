<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/x-icon" href="../../../static/favicon.ico?h=e38ef9dd">
<link rel="stylesheet" href="../../../static/normalize.css?h=ece571f3">
<link rel="stylesheet" href="../../../static/skeleton.css?h=eef777a0">
<link rel="stylesheet" href="../../../static/style.css?h=9b0ede05">
<link rel="stylesheet" href="../../../static/fonts/anonymous-pro/anonymous-pro.css?h=7b3d4039">
<link rel="stylesheet" href="../../../static/fonts/fa/css/font-awesome.min.css?h=6f794d3b">
<link rel="stylesheet" href="../../../static/fonts/ionicons/css/ionicons.min.css?h=f0459300">
<link rel="stylesheet" href="../../../static/fonts/source-sans-pro/source-sans-pro.css?h=eef2e813">
<link rel="stylesheet" href="../../../static/pygments.css">
<script src="../../../static/js/jquery-2.2.1.min.js?h=7cb05e3d"></script>
<script src="../../../static/js/lr-notebook.js?h=1ff40b5a"></script>
<script src="../../../static/js/marked.js?h=acaa528b"></script>

<title></title>
<body>
  <header>
    <h1><i class="fa fa-sticky-note-o"></i> nb-sdouglas</h1>
    <nav>
      <ul class="nav navbar-nav">
        <li><a  href="../../../">Welcome</a></li>
        
          <li><a  class="active" href="../../../projects/">Projects</a></li>
        
          <li><a  href="../../../calendar/">Calendar</a></li>
        
          <li><a  href="../../../about/">About</a></li>
        
      </ul>
    </nav>
    
  </header>

  <iframe width="0" height="0" border="0" name="frame" style="border-style: none;"></iframe>

  <div class="page">
    
<h1 style="display: inline;"><a class="orange" href="../../../projects/lr-notebook/">lr-notebook/</a></h1>
<br>
<form target="frame" action="/admin/api/browsefs" method="post">
  <input type="hidden" name="path" value="/projects/lr-notebook/2016-02-14">
  <input type="image" src=../../../static/images/link.png>
</form>
<h2 class="lightblue" style="display: inline;">Individual notebooks for each lab member</h2> <span class="midgray">2016-02-14</span> 


<div id="entry">
    <h2>Background</h2>
<p>Continuing to work on new lektor-based notebook system for the lab!!!!</p>
<p>I've used the following for notebooks:</p>
<ul>
<li><strong>per-group mediawiki instance, per-user accounts</strong><ul>
<li>pros: everyone's work in one place</li>
<li>cons: hard to enforce organization, lacks portability, scales poorly over time</li>
</ul>
</li>
<li><strong>per-user mediawiki instance</strong><ul>
<li>pros: more similar to individual paper notebooks, more portable</li>
<li>cons: poor group-wide indexing, search. collaboration is hard.</li>
</ul>
</li>
<li><strong>per-project git repo, with per-user branches</strong><ul>
<li>pros: benefits of git version control: diffs, lots of git(hub) integrations available</li>
<li>cons: any group-wide indexing requires constent, burdensome merging</li>
</ul>
</li>
</ul>
<p>Next stage in notebook evolution is:</p>
<ul>
<li><strong>per-user git repo using lektor (static+cms+framework), plus group-wide indexing</strong><ul>
<li>pros: combined benefits of per-user notebooks with automatic per-project indexing, and git-based version control</li>
<li>cons: tbd; requires some work to set up</li>
</ul>
</li>
</ul>
<p>I'm currently favoring the following folder layout and repo naming convention</p>
<pre><code>notebooks/
  all/
  nb-docs/
  nb-han/
  nb-pablo/
  nb-parsa/
  nb-mia/
  nb-shawn/
  nb-suraj/
  nb-tural/
</code></pre>
<ul>
<li><code>nb-*</code> is an individual git repo containing a lektor notebook</li>
<li><code>all</code> is a customized lektor notebook (perhaps with some scripts or symlinks) that builds a master index of sibling notebooks.</li>
<li><code>nb-docs</code> will store general lab information (currently on the wiki)</li>
</ul>
<h2>Clean up prototype lektor notebook</h2>
<p>I originally structured the root of this notebook to be a sub-folder of a git repo. But we want the notebook to move up to the top-level folder of its repo.</p>
<p>Some of the html templates are hard-coded with my name, project name etc. Needed to go into the lektor source code to figure out what the <code>lektor.environment.Config object</code> contained. After taking a look at <code>environment.py</code>, it turns out we can access the project name variable in a template using <code>{{config.PROJECT.name}}</code> so I added that to the layout.html template.</p>
<h2>Ongoing CSS Tweaks</h2>
<p>Still not happy with all the spacing and formatting of skeleton.css. First I wanted to get header sizes to look more reasonable for log-entry pages. Here are current skeleton.css values:</p>
<div class="highlight"><pre><span></span><span class="nt">h1</span><span class="o">,</span> <span class="nt">h2</span><span class="o">,</span> <span class="nt">h3</span><span class="o">,</span> <span class="nt">h4</span><span class="o">,</span> <span class="nt">h5</span><span class="o">,</span> <span class="nt">h6</span> <span class="p">{</span>
  <span class="nb">font-family</span><span class="o">:</span> <span class="s2">&quot;Anonymous Pro&quot;</span><span class="o">,</span> <span class="s2">&quot;HelveticaNeue&quot;</span><span class="o">,</span> <span class="s2">&quot;Helvetica Neue&quot;</span><span class="o">,</span> <span class="n">Helvetica</span><span class="o">,</span> <span class="n">Arial</span><span class="o">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
  <span class="nb">margin-top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nb">margin-bottom</span><span class="o">:</span> <span class="m">2</span><span class="n">rem</span><span class="p">;</span>
  <span class="nb">font-weight</span><span class="o">:</span> <span class="m">300</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h1</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">2</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">2</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">1</span><span class="n">rem</span><span class="p">;}</span>
<span class="nt">h2</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">8</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">25</span><span class="p">;</span> <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">1</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h3</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">5</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">3</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">1</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h4</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">2</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">35</span><span class="p">;</span> <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">08</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h5</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">1</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">5</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">05</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h6</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">6</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>

<span class="c">/* Larger than phablet */</span>
<span class="k">@media</span> <span class="o">(</span><span class="nt">min-width</span><span class="o">:</span> <span class="nt">550px</span><span class="o">)</span> <span class="p">{</span>
  <span class="nt">h1</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">5</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h2</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">4</span><span class="o">.</span><span class="m">2</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h3</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">3</span><span class="o">.</span><span class="m">6</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h4</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">3</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h5</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">2</span><span class="o">.</span><span class="m">4</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h6</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">5</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Here are some updated values.</p>
<div class="highlight"><pre><span></span><span class="nt">h1</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">2</span><span class="o">.</span><span class="m">8</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">2</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">1</span><span class="n">rem</span><span class="p">;}</span>
<span class="nt">h2</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">2</span><span class="o">.</span><span class="m">4</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">25</span><span class="p">;</span> <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">1</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h3</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">2</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">3</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">1</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h4</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">6</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">35</span><span class="p">;</span> <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">08</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h5</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">2</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">5</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="o">-.</span><span class="m">05</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">h6</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="nb">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">6</span><span class="p">;</span>  <span class="nb">letter-spacing</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span>

<span class="c">/* Larger than phablet */</span>
<span class="k">@media</span> <span class="o">(</span><span class="nt">min-width</span><span class="o">:</span> <span class="nt">550px</span><span class="o">)</span> <span class="p">{</span>
  <span class="nt">h1</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">4</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h2</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">3</span><span class="o">.</span><span class="m">6</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h3</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">3</span><span class="o">.</span><span class="m">3</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h4</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">3</span><span class="o">.</span><span class="m">0</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h5</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">2</span><span class="o">.</span><span class="m">5</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
  <span class="nt">h6</span> <span class="p">{</span> <span class="nb">font-size</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">5</span><span class="n">rem</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>I also updated <code>code</code> with the following:</p>
<pre><code>color: #cc3366;
display: inline-block;
</code></pre>
<p>inline-block means that the width of the fenced code blocks does not extend all the way to the edge of the div.</p>
<h2>Sublime Markdown Syntax Highlighting</h2>
<p>These look promising:</p>
<ul>
<li><a href="https://github.com/jonschlinkert/sublime-markdown-extended">https://github.com/jonschlinkert/sublime-markdown-extended</a></li>
<li><a href="https://packagecontrol.io/packages/Monokai%20Extended">https://packagecontrol.io/packages/Monokai%20Extended</a></li>
</ul>
<p>I'm still happy with Monokai-Midnight for default editing
<code>"color_scheme": "Packages/Colorsublime - Themes/Monokai-Midnight.tmTheme",</code></p>
<p>For markdown I've been using Hammer:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;color_scheme&quot;</span><span class="p">:</span> <span class="s2">&quot;Packages/Colorsublime - Themes/Hammer.tmTheme&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dictionary&quot;</span><span class="p">:</span> <span class="s2">&quot;Packages/Language - English/en_US.dic&quot;</span><span class="p">,</span>
  <span class="nt">&quot;extensions&quot;</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="s2">&quot;markdown&quot;</span><span class="p">,</span>
    <span class="s2">&quot;md&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lr&quot;</span><span class="p">,</span>
    <span class="s2">&quot;markdown&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;font_size&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="nt">&quot;ignored_packages&quot;</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="s2">&quot;Vintage&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;spell_check&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;trim_trailing_white_space_on_save&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
<p>I would like to eventually get code-fence highlighting to work with sublime-markdown-extended, but with something like Hammer instead of Monokai for outside code blocks.</p>

</div>

<script>
  function renderRightAsMarkdown() {
      var right = document.getElementsByClassName("right");
      for (var i=0; i<right.length; i++) {
          src = right[i].innerHTML
          right[i].innerHTML = marked(src);
      }
  }
  renderRightAsMarkdown();
</script>








  </div>

  <footer>
    &copy; 2016. Made with <a target="_new" href="http://bionano.ucsf.edu/"><i class="fa fa-flask"></i></a> in SF.

  </footer>
</body>
